<Window x:Class="ED_Inara_Overlay.Windows.PinnedRouteOverlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Pinned Trade Route"
        Height="200" Width="600"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        HorizontalAlignment="Center"
        VerticalAlignment="Top">

    <!-- Main content area -->
    <Grid>
        <!-- Pinned route card container -->
        <Border Background="{DynamicResource SecondaryBackgroundColorBrush}" 
                BorderBrush="{DynamicResource BorderColorBrush}" 
                BorderThickness="1"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch">

            <!-- ScrollViewer to enable vertical scrolling -->
            <ScrollViewer Style="{DynamicResource CustomScrollViewerStyle}"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Disabled"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Stretch">

                <!-- Dynamic content container for the pinned card -->
                <StackPanel x:Name="PinnedRouteContainer"
                           Orientation="Vertical"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Top">

                    <!-- Pinned route card will be added here programmatically -->

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Close button positioned at top-right -->
        <Button x:Name="CloseButton"
                Content="Unpin"
                Margin="280,0,280,0"
                Background="{DynamicResource ButtonBackgroundColorBrush}"
                Foreground="{DynamicResource AccentColorBrush}"
                BorderBrush="{DynamicResource BorderColorBrush}"
                FontSize="12"
                FontWeight="Bold"
                Cursor="Hand"
                Click="CloseButton_Click" Height="20" VerticalAlignment="Top">
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
>
                                    <ContentPresenter HorizontalAlignment="Center" 
                                                      VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource HighlightBackgroundBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>
    </Grid>
</Window>
