<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="ED_Inara_Overlay_2._0.Windows.TradeRouteWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ED_Inara_Overlay_2._0.Windows"
        mc:Ignorable="d"
        Title="Trade Route Search" 
        Width="420"
        SizeToContent="Height"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ShowActivated="False"
        ResizeMode="NoResize">
    
    <!-- Main container with dark background -->
    <Border Style="{StaticResource WindowBorderStyle}" Background="#E61E1E1E">
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Grid Grid.Row="0" Margin="0,0,0,10">
                <TextBlock Text="Elite Dangerous Trade Route Search" 
                          Style="{StaticResource HeaderTextStyle}"
                          HorizontalAlignment="Left"/>
                <Button x:Name="CloseButton" 
                       Content="âœ•" 
                       Width="30" Height="30"
                       HorizontalAlignment="Right"
                       Background="#FFCC4444" 
                       Foreground="White"
                       BorderThickness="0"
                       FontWeight="Bold"
                       Click="CloseButton_Click"/>
            </Grid>

            <!-- Basic Search Parameters -->
            <GroupBox Grid.Row="1" Header="Basic Parameters" Foreground="{StaticResource AccentBrush}" BorderBrush="#FF404040" Margin="0,0,0,10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Near Star System -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Near star system:" 
                              Style="{StaticResource BodyTextStyle}" 
                              VerticalAlignment="Center" Margin="0,5,10,5"/>
                    <TextBox x:Name="NearStarSystemTextBox" Grid.Row="0" Grid.Column="1" 
                            Background="{StaticResource SecondaryBackgroundBrush}" 
                            Foreground="{StaticResource PrimaryTextBrush}" 
                            BorderBrush="{StaticResource BorderBrush}" 
                            Text="Sol" Padding="5" Margin="0,5,10,5"/>

                    <!-- Cargo Capacity -->
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Cargo capacity:" 
                              Style="{StaticResource BodyTextStyle}" 
                              VerticalAlignment="Center" Margin="0,5,10,5"/>
                    <TextBox x:Name="CargoCapacityTextBox" Grid.Row="0" Grid.Column="3" 
                            Background="{StaticResource SecondaryBackgroundBrush}" 
                            Foreground="{StaticResource PrimaryTextBrush}" 
                            BorderBrush="{StaticResource BorderBrush}" 
                            Text="720" Padding="5" Margin="0,5,0,5"/>

                    <!-- Max Route Distance -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Max. route distance:" 
                              Style="{StaticResource BodyTextStyle}" 
                              VerticalAlignment="Center" Margin="0,5,10,5"/>
                    <ComboBox x:Name="MaxRouteDistanceComboBox" Grid.Row="1" Grid.Column="1" 
                             Style="{StaticResource ComboBoxStyle}"
                             SelectedIndex="7" Margin="0,5,10,5">
                        <ComboBoxItem Content="10 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="20 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="30 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="40 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="50 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="60 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="70 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="80 Ly" Style="{StaticResource ComboBoxItemStyle}"/>
                    </ComboBox>

                    <!-- Max Price Age -->
                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Max. price age:" 
                              Style="{StaticResource BodyTextStyle}" 
                              VerticalAlignment="Center" Margin="0,5,10,5"/>
                    <ComboBox x:Name="MaxPriceAgeComboBox" Grid.Row="1" Grid.Column="3" 
                             Style="{StaticResource ComboBoxStyle}"
                             SelectedIndex="4" Margin="0,5,0,5">
                        <ComboBoxItem Content="8 hours" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="16 hours" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="1 day" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="2 days" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="3 days" Style="{StaticResource ComboBoxItemStyle}"/>
                    </ComboBox>

                    <!-- Checkboxes -->
                    <CheckBox x:Name="IncludeRoundTripsCheckBox" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                             Content="Include round trips" 
                             Foreground="{StaticResource PrimaryTextBrush}" 
                             IsChecked="True" Margin="0,5,10,5"/>
                    <CheckBox x:Name="DisplayPowerplayBonusesCheckBox" Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2"
                             Content="Display Powerplay bonuses" 
                             Foreground="{StaticResource PrimaryTextBrush}" 
                             Margin="0,5,0,5"/>
                </Grid>
            </GroupBox>

            <!-- Show Additional Filters Button -->
            <Button x:Name="ShowFiltersButton" Grid.Row="2" 
                   Content="Show Additional Filters" 
                   Background="{StaticResource ButtonBackgroundBrush}" 
                   Foreground="{StaticResource PrimaryTextBrush}"
                   FontWeight="Bold" 
                   Padding="10,5" 
                   Margin="0,0,0,10"
                   Click="ShowFiltersButton_Click"/>

            <!-- Additional Filters Section -->
            <GroupBox x:Name="AdditionalFiltersGroupBox" Grid.Row="3" 
                     Header="Additional Filters" 
                     Foreground="White" 
                     BorderBrush="#FF404040" 
                     Visibility="Collapsed"
                     Margin="0,0,0,10">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Min Landing Pad -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Min. landing pad:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="MinLandingPadComboBox" Grid.Row="0" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                            <ComboBoxItem Content="Small" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Medium" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Large" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Max Station Distance -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Max. station distance:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
<ComboBox x:Name="MaxStationDistanceComboBox" Grid.Row="1" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                        <ComboBoxItem Content="Any" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="100 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="500 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="1000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="2000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="5000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="10000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="15000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="20000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="25000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="50000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        <ComboBoxItem Content="100000 Ls" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Use Surface Stations -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Use surface stations:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                                <ComboBox x:Name="UseSurfaceStationsComboBox" Grid.Row="2" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                                <ComboBoxItem Content="Yes (with Odyssey stations)" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="Yes (with Odyssey stations)" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="Yes (exclude Odyssey stations)" Style="{StaticResource ComboBoxItemStyle}"/>
                                <ComboBoxItem Content="No" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Source Station Power -->
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Source station Power:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="SourceStationPowerComboBox" Grid.Row="3" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                            <ComboBoxItem Content="Any" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Aisling Duval" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Archon Delaine" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Arissa Lavigny-Duval" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Denton Patreus" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Edmund Mahon" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Felicia Winters" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Jerome Archer" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Li Yong-Rui" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Nakato Kaine" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Pranav Antal" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Yuri Grom" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Zemina Torval" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Target Station Power -->
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Target station Power:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="TargetStationPowerComboBox" Grid.Row="4" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                            <ComboBoxItem Content="Any" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Aisling Duval" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Archon Delaine" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Arissa Lavigny-Duval" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Denton Patreus" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Edmund Mahon" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Felicia Winters" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Jerome Archer" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Li Yong-Rui" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Nakato Kaine" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Pranav Antal" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Yuri Grom" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Zemina Torval" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Min Supply -->
                        <TextBlock Grid.Row="5" Grid.Column="0" Text="Min. supply:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="MinSupplyComboBox" Grid.Row="5" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                            <ComboBoxItem Content="Any" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="100 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="500 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="1,000 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="2,500 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="5,000 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="10,000 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="50,000 Units" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Min Demand -->
                        <TextBlock Grid.Row="6" Grid.Column="0" Text="Min. demand:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="MinDemandComboBox" Grid.Row="6" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="0" Margin="0,5,0,5">
                            <ComboBoxItem Content="Any" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="100 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="500 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="1,000 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="2,500 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="5,000 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="10,000 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="50,000 Units or unlimited" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                        <!-- Order By -->
                        <TextBlock Grid.Row="7" Grid.Column="0" Text="Order by:" Foreground="White" VerticalAlignment="Center" Margin="0,5,10,5"/>
                        <ComboBox x:Name="OrderByComboBox" Grid.Row="7" Grid.Column="1" 
                                 Style="{StaticResource ComboBoxStyle}"
                                 SelectedIndex="4" Margin="0,5,0,5">
                            <ComboBoxItem Content="Best profit" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Best profit per hour (estimate)" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Last update" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Route distance" Style="{StaticResource ComboBoxItemStyle}"/>
                            <ComboBoxItem Content="Distance" Style="{StaticResource ComboBoxItemStyle}"/>
                        </ComboBox>

                    </Grid>
                </ScrollViewer>
            </GroupBox>

            <!-- Search Buttons -->
            <Grid Grid.Row="4" Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="SearchButton" Grid.Column="0" 
                       Content="Search Trade Routes" 
                       Background="{StaticResource SecondaryTextBrush}" 
                       Foreground="{StaticResource PrimaryTextBrush}" 
                       FontWeight="Bold" 
                       Padding="10,5" 
                       Click="SearchButton_Click"/>
                       
                <Button x:Name="TestDataButton" Grid.Column="2" 
                       Content="Load Test Data" 
                       Background="{StaticResource SecondaryTextBrush}" 
                       Foreground="{StaticResource PrimaryTextBrush}" 
                       FontWeight="Bold" 
                       Padding="10,5" 
                       Click="TestDataButton_Click"/>
            </Grid>

            <!-- Status Bar -->
            <StatusBar Grid.Row="5" Background="#FF2A2A2A" Foreground="{StaticResource AccentBrush}" Height="25">
                <StatusBarItem>
                    <TextBlock x:Name="StatusText" Text="Ready to search..."/>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </Border>
</Window>
